<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flexcoin â€” $FLEX</title>
    <meta name="description" content="Flexcoin â€” Luxury Ã— Meme. $FLEX" />
    <meta property="og:title" content="Flexcoin â€” $FLEX" />
    <meta
      property="og:description"
      content="Survive the memecoin sector with style."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://flexcoin.io.kr/" />
    <meta property="og:image" content="/assets/flexcoin-cover.png" />
    <link rel="icon" href="/favicon.ico" />
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        background: #000;
        color: #ffd700;
        font-family: "Pretendard", sans-serif;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      #app {
        width: 100%;
        height: 100%;
      }
      #loading {
        font-size: 1.2rem;
        opacity: 0.8;
        text-align: center;
        animation: blink 1.2s infinite;
      }
      @keyframes blink {
        50% {
          opacity: 0.4;
        }
      }
    </style>
  </head>

  <body>
    <div id="app">
      <div id="loading">ğŸš€ Loading Flexcoin ...</div>
    </div>

    <!-- =========================================
         âœ… Flexcoin Multi-Path Loader (Vite 2025)
         ========================================= -->
    <script type="module">
      (async () => {
        const manifestCandidates = [
          "/.vite/manifest.json",
          "/manifest.json",
          "/assets/manifest.json"
        ];

        async function tryManifest(url) {
          try {
            const res = await fetch(url, { cache: "no-store" });
            if (!res.ok) return false;

            const manifest = await res.json();
            const entry =
              manifest["src/main.ts"] ||
              manifest["src/main.tsx"] ||
              manifest["src/main.js"] ||
              Object.values(manifest)[0];

            const file = entry && (entry.file || entry.src || entry);
            if (!file) return false;

            const fullPath = file.startsWith("/") ? file : "/" + file;
            await import(fullPath);
            document.getElementById("loading")?.remove();
            return true;
          } catch (err) {
            return false;
          }
        }

        // ê²½ë¡œë³„ ìˆœì°¨ ì‹œë„
        for (const p of manifestCandidates) {
          if (await tryManifest(p)) return;
        }

        // fallback: dev ëª¨ë“œë‚˜ manifest ëˆ„ë½ ì‹œ ì§ì ‘ main.ts ì‹œë„
        try {
          await import("/src/main.ts");
          document.getElementById("loading")?.remove();
        } catch (e) {
          console.error("âŒ Flexcoin app load failed:", e);
          const warn = document.createElement("div");
          warn.textContent =
            "âš ï¸ Build assets not found. Check GitHub Pages workflow artifact.";
          warn.style.cssText =
            "position:fixed;bottom:0;left:0;right:0;background:#2b1b1b;color:#ffaaaa;padding:10px;text-align:center;font-size:14px;z-index:9999;";
          document.body.appendChild(warn);
        }
      })();
    </script>
  </body>
</html>
