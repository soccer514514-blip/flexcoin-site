<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
 <title>$FLEX is your life â€” Flexcoin</title>
<link rel="manifest" href="/site.webmanifest">
<link rel="apple-touch-icon" href="/icons/flexcoin-192.png">
<link rel="preload" as="image" href="/public/hero/main.jpg">
<meta name="theme-color" content="#f5c542">


  <meta name="msvalidate.01" content="F392338F667D8A882F047C0953403BC5" />
  <meta name="description" content="FlexCoin (FLEX) is a luxury-themed meme coin on BNB Chain with transparent tokenomics, completed KYC & audit, locked liquidity and a fair DexSale presale for global crypto communities in the US, Turkey, Vietnam and the Philippines.">

  <!-- SEO keywords (US / Turkey / Vietnam / Philippines ì¤‘ì‹¬ 30ê°œ) -->
  <meta name="keywords" content="
FlexCoin,
Flexcoin meme coin,
FLEX token,
BNB Chain meme coin,
BNB Chain presale,
crypto presale 2025,
new meme coin 2025,
audited meme coin,
locked liquidity token,
KYC verified crypto,
community driven crypto,
fair launch token,
US crypto investors,
Turkey crypto community,
Vietnam crypto community,
Philippines crypto traders,
meme coin presale BNB,
low cap gem crypto,
luxury meme coin,
DeFi meme token,
DexSale presale,
BSC token presale,
transparent team crypto,
long term crypto project,
global meme coin project,
safe BNB chain token,
Flexcoin whitepaper,
Flexcoin roadmap,
Flexcoin Telegram community,
Flexcoin official website
">

  <!-- Open Graph (for Twitter/X, Telegram, Discord, etc.) -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="FlexCoin">
  <meta property="og:title" content="$FLEX is your life â€” Flexcoin">
  <meta property="og:description" content="FlexCoin (FLEX) is a luxury meme coin on BNB Chain with transparent tokenomics, KYC & audit completed, locked liquidity and a fair DexSale presale for global crypto communities.">
  <link rel="canonical" href="https://flexcoin.io.kr/" />
  <meta property="og:url" content="https://flexcoin.io.kr/">
  <meta property="og:image" content="https://flexcoin.io.kr/public/hero/main.jpg">
  <meta property="og:locale" content="en_US">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="$FLEX is your life â€” Flexcoin">
  <meta name="twitter:description" content="FlexCoin (FLEX) is a luxury meme coin on BNB Chain with transparent tokenomics, KYC & audit completed, locked liquidity and a fair DexSale presale for global crypto communities.">
  <meta name="twitter:image" content="https://flexcoin.io.kr/public/hero/main.jpg">

  <!-- Favicon (404 ë°©ì§€: /public ê²½ë¡œ ìš°ì„ , ë‘˜ ë‹¤ ì‹œë„) -->
  <link rel="icon" type="image/svg+xml" href="/public/favicon.svg">
  <link rel="alternate icon" href="/public/favicon.ico">
  <link rel="alternate icon" href="/favicon.ico">

  <!-- Whitepaper discoverability -->
  <link rel="alternate" hreflang="en" href="/public/whitepaper/en.pdf">
  <link rel="alternate" hreflang="ko" href="/public/whitepaper/ko.pdf">
  <link rel="alternate" hreflang="ja" href="/public/whitepaper/ja.pdf">
  <link rel="alternate" hreflang="zh" href="/public/whitepaper/zh.pdf">
  <link rel="alternate" hreflang="es" href="/public/whitepaper/es.pdf">
  <link rel="alternate" hreflang="de" href="/public/whitepaper/de.pdf">
  <link rel="alternate" hreflang="pt" href="/public/whitepaper/pt.pdf">
  <link rel="alternate" hreflang="it" href="/public/whitepaper/it.pdf">

  <style>
    :root{
      --bg:#11100d; --card:#1b1915; --text:#eadfbb; --muted:#b9a97a;
      --gold:#f4cc4f; --chip:#3a331c; --border:rgba(255,255,255,.08);
    }
    html,body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:ui-sans-serif,system-ui,Apple SD Gothic Neo,Segoe UI,Roboto,Helvetica,Arial;
      overflow-x:hidden; max-width:100vw; overscroll-behavior-x:none
    }
    body{ padding-top:64px; }
    *{box-sizing:border-box}
    a{color:inherit; text-decoration:none}
    body.noscroll{overflow:hidden}

    .topbar{
      position:fixed; inset:0 auto auto 0; right:0; top:0;
      display:flex; align-items:center; gap:.5rem; padding:.8rem 1rem;
      background:linear-gradient(180deg,rgba(0,0,0,.75),rgba(0,0,0,.35));
      backdrop-filter:blur(6px); z-index:9999; border-bottom:1px solid var(--border);
    }
    .brand{font-weight:800;color:var(--gold);line-height:1.15;white-space:nowrap}
    .spacer{flex:1}
    .btn{
      border:none;border-radius:.7rem;padding:.55rem .9rem;cursor:pointer;
      background:var(--gold);color:#000;font-weight:800;display:inline-block;white-space:nowrap
    }
    .btn[disabled],
    .btn[aria-disabled="true"]{
      opacity:.45;cursor:not-allowed;pointer-events:none;
    }
    .lang{display:inline-flex;border-radius:.6rem;overflow:hidden;border:1px solid var(--border)}
    .lang button{background:var(--chip);padding:.5rem .75rem;border:0;color:var(--text);cursor:pointer}
    .lang button.active{background:var(--gold);color:#000;font-weight:800}
    .nav a{margin-left:.6rem; font-weight:700; color:var(--gold); opacity:.9; white-space:nowrap}
    .nav a:hover{opacity:1}
    /* -------- ì´ë¯¸ì§€ ë¼ì´íŠ¸ë°•ìŠ¤ -------- */
    .lightbox {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.85);
      z-index: 9999;
    }

    .lightbox.open {
      display: flex;
    }

    .lightbox img {
      max-width: 90vw;
      max-height: 90vh;
      border-radius: 16px;
      box-shadow: 0 0 30px rgba(0,0,0,0.8);
      cursor: zoom-out;
    }

    @media(max-width:680px){
      .topbar{flex-wrap:wrap;gap:.4rem}
      .brand{flex:1 1 100%; font-size:1rem}
      .nav{order:3; width:100%; display:flex; gap:.8rem .6rem; flex-wrap:wrap}
      .btn{padding:.5rem .7rem}
      .lang{order:4}
    }

    .wrap{max-width:1100px;margin:0 auto;padding:1rem}
    .card{background:var(--card);border:1px solid var(--border);
      border-radius:18px;padding:16px;margin-top:1rem}
    .section-title{font-size:1.4rem;font-weight:900;margin:.4rem 0 1rem;color:var(--gold)}
    .muted{color:var(--muted);font-size:.95rem}

    .hero{background:#0f0e0c;border-radius:18px;overflow:hidden;border:1px solid var(--border)}
    .hero img{display:block;width:100%;height:auto}

    .tok-wrap{display:grid;grid-template-columns:320px 1fr;gap:18px}
    /* ë„ë„›ì´ ì°Œê·¸ëŸ¬ì§€ì§€ ì•Šë„ë¡ ì •ì‚¬ê°í˜• ê³ ì • */
    #donut{
      width:280px;
      height:280px;
      max-width:100%;
      aspect-ratio:1/1;
      display:block;
      margin:auto;
      background:#0f0e0c;
      border-radius:14px;
    }
    ul.legend{list-style:none;padding:0;margin:0;font-size:.95rem}
    ul.legend li{margin:.2rem 0;display:flex;align-items:center}
    .legend-dot{
      width:11px;height:11px;border-radius:50%;margin-right:6px;flex-shrink:0;
      border:1px solid rgba(0,0,0,.4);
    }
    #caps,#rates{margin-top:.35rem}
    .tokenomics-note{
      margin-top:.55rem;
      font-size:.9rem;
      color:var(--muted);
      line-height:1.45;
      text-align:left;
    }

    .countbox{border:1px solid var(--border);border-radius:14px;padding:14px;
      background:linear-gradient(180deg,rgba(255,255,255,.02),transparent)}
    #countdown{font-weight:900;font-size:1.35rem}

    .wp-grid{display:flex;flex-wrap:wrap;gap:.5rem}
    .wp-note{margin-top:.5rem}

    .addr table{width:100%;border-collapse:collapse;font-size:.92rem}
    .addr td{padding:.45rem .55rem;border-bottom:1px dashed var(--border);word-break:break-all}
    .addr a{color:var(--gold);text-decoration:none}

    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
    .grid img{width:100%;height:auto;display:block;aspect-ratio:16/9;object-fit:cover;
      border-radius:12px;border:1px solid var(--border);background:#0f0e0c}
    @media(max-width:900px){
      .tok-wrap{grid-template-columns:1fr}
      .grid{grid-template-columns:repeat(2,1fr)}
      .addr td{font-size:.85rem}
    }

    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;
      align-items:center;justify-content:center;z-index:50;touch-action:none}
    .lightbox.show{display:flex}
    .lb-stage{position:relative;max-width:95vw;max-height:85vh;overflow:hidden;cursor:grab;border-radius:12px}
    .lb-img{user-select:none;pointer-events:auto;transform-origin:center center;display:block;max-width:none}
    .lb-toolbar{position:fixed;top:12px;right:12px;display:flex;gap:.4rem;z-index:60}
    .lb-toolbar .btn{padding:.4rem .6rem;border-radius:.6rem}
    .lb-hint{position:fixed;bottom:12px;left:12px;color:#ddd;font-size:.85rem;opacity:.8}

    .about-section{background:linear-gradient(180deg,#0a0a0a 0%, #111 100%);border:1px solid rgba(212,175,55,.25);
      border-radius:24px;padding:28px;margin:24px 0;box-shadow:0 10px 30px rgba(0,0,0,.35);color:#f1f1f1}
    .about-title{font-size:28px;font-weight:800;margin-bottom:8px;color:#f6e8b1}
    .about-sub{font-size:14px;color:#a0a0a0;margin-bottom:16px}
    .about-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:18px}
    .about-card{background:#0e0e0e;border:1px solid rgba(212,175,55,.15);border-radius:16px;padding:16px}
    .about-bullets{list-style:none;padding:0;margin:12px 0 0 0}
    .about-bullets li{margin:6px 0;padding-left:18px;position:relative}
    .about-bullets li:before{content:"âœ…";position:absolute;left:0;top:0.5px}
    blockquote.about-quote{margin:12px 0;border-left:4px solid rgba(212,175,55,.5);padding:8px 12px;color:#e9e1c8;font-style:italic}
    .small-muted{font-size:12px;color:#9a9a9a;margin-top:8px}

    .btn-row{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center;margin-top:.6rem}
    .btn-gold{background:var(--gold);color:#000;border-radius:.7rem;padding:.55rem .9rem;font-weight:800;border:0;cursor:pointer}
    .select-net{margin:8px 0;padding:.45rem .6rem;border-radius:.6rem;border:1px solid var(--border);background:#0f0e0c;color:var(--text)}
    .mint-log{background:#0f0e0c;border:1px solid var(--border);border-radius:12px;padding:10px;margin-top:10px;color:#ddd;font-size:.85rem;min-height:2.2em}

    #roadmap .grid{grid-template-columns:repeat(4,1fr)}
    #roadmap .roadmap-card{transition:transform .25s ease, box-shadow .25s ease}
    #roadmap .roadmap-card:hover{transform:translateY(-4px); box-shadow:0 4px 15px rgba(212,175,55,.15)}
    @media(max-width:900px){ #roadmap .grid{grid-template-columns:repeat(2,1fr)} }

    /* --- ì¶”ê°€: ì°¨íŠ¸ & ì•Œë¦¼ ìŠ¤íƒ€ì¼ --- */
    #chart-box{margin-top:12px;border:1px solid var(--border);border-radius:14px;overflow:hidden;background:#0f0f0f}
    .chart-head{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border-bottom:1px solid var(--border)}
    .chart-body{height:520px}
    .chart-body iframe{width:100%;height:100%;border:0;display:block}
    .alert-wrap{display:grid;gap:10px;grid-template-columns:1fr 1fr}
    .alert-wrap input{width:100%;padding:.6rem .7rem;border-radius:.6rem;border:1px solid var(--border);background:#0f0e0c;color:var(--text)}
    .alert-hint{font-size:.85rem;color:var(--muted)}
    @media(max-width:700px){ .alert-wrap{grid-template-columns:1fr} .chart-body{height:420px} }

    /* Security Shield Zone */
    .security-zone{
      margin-top:1rem;
      border-radius:18px;
      border:1px solid var(--border);
      background:
        radial-gradient(circle at top, rgba(244,204,79,0.16), transparent 60%),
        linear-gradient(180deg,#050505,#11100d);
    }
    .security-zone .muted{margin-bottom:.4rem}
    .security-buttons{justify-content:flex-start}
    .security-btn{min-width:140px;text-align:center}

  </style>

  <!-- ethers CDN -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.12.1/dist/ethers.umd.min.js"></script>

  <!-- JSON-LD êµ¬ì¡°í™” ë°ì´í„° (Organization ìŠ¤í‚¤ë§ˆ) -->
 <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "FlexCoin",
  "alternateName": "FLEX",
  "url": "https://flexcoin.io.kr",
  "logo": "https://flexcoin.io.kr/favicon.svg",
  "description": "FlexCoin (FLEX) is a luxury-themed meme coin on BNB Chain with transparent tokenomics, completed KYC & audit, and locked liquidity.",
  "sameAs": [
    "https://x.com/Flexcoinmeme",
    "https://t.me/flexcoinmeme",
    "https://www.dx.app/dxsale/view?address=0x6fcE9aD19Da522B03813Ef69106bb077A6d84d1C&chain=56",
    "https://bscscan.com/token/0xBa29562241F0489504C493c47aCBA16d7a98998f"
  ]
}
</script>
</head>

<body>
  <!-- Top bar -->
  <div class="topbar">
    <div class="brand" id="brand">$FLEX is your life. Your life is FLEX.</div>
    <div class="spacer"></div>
    <div class="nav">
      <a href="#about-flexcoin">About</a>
      <a href="#whitepaper">Whitepaper</a>
      <a href="#roadmap">Roadmap</a>
      <a href="#nft">NFT</a>
    </div>
    <a id="btn-x" class="btn" href="#" target="_blank" rel="noopener">X</a>
    <a id="btn-tg" class="btn" href="#" target="_blank" rel="noopener">Telegram</a>
    <a id="btn-pcs" class="btn" href="#" target="_blank" rel="noopener">Buy on PancakeSwap</a>
    <div class="lang" aria-label="language" id="lang-pill">
      <button data-lang="en" class="active">EN</button><button data-lang="ko">KR</button>
    </div>
  </div>

  <div class="wrap">
    <!-- HERO -->
    <section class="card hero">
    <img
  id="hero-img"
  src="/public/hero/main.jpg"
  alt="FlexCoin luxury meme coin hero illustration with FLEX gold coin and two flexing characters"
  loading="eager"
  fetchpriority="high"
  onerror="this.onerror=null;this.src='/public/hero/1.jpg'">
  </section>

    <!-- Security Shield Zone (Hero ë°”ë¡œ ì•„ë˜) -->
    <section id="security-zone" class="card security-zone">
      <div class="section-title">Security Shield Zone</div>
      <p class="muted" id="security-desc">
        Audit / KYC / LP Lock / BscScan links will be published here. Always verify before you ape in.
      </p>
      <div class="btn-row security-buttons">
        <a id="btn-security-audit" class="btn security-btn" aria-disabled="true">Audit</a>
        <a id="btn-security-kyc" class="btn security-btn" aria-disabled="true">KYC</a>
        <a id="btn-security-lplock" class="btn security-btn" aria-disabled="true">LP Lock</a>
        <a id="btn-security-bscscan" class="btn security-btn" aria-disabled="true">BscScan</a>
      </div>
    </section>

    <!-- About -->
    <section id="about-flexcoin" class="about-section">
      <div class="about-title">About FlexCoin</div>
      <div class="about-sub">ê°ì„± + ì‹ ë¢° ê²°í•© (Korean & English)</div>
      <div class="about-grid">
        <div class="about-card">
          <h3 style="margin:0 0 8px 0">í•œêµ­ì–´</h3>
          <p>FlexCoinì€ ë‹¨ìˆœí•œ ë°ˆì½”ì¸ì´ ì•„ë‹™ë‹ˆë‹¤. í•œêµ­ì—ì„œ â€œFlexâ€ëŠ” <b>ìì‹ ì˜ ëŠ¥ë ¥Â·ì†Œë¹„ë ¥Â·ìì‹ ê°</b>ì„ ë‹¹ë‹¹í•˜ê²Œ í‘œí˜„í•˜ëŠ” ë¬¸í™”ì…ë‹ˆë‹¤. FlexCoinì€ ê·¸ íƒœë„ë¥¼ ë‹´ì€ <b>ë¼ì´í”„ìŠ¤íƒ€ì¼</b>ì…ë‹ˆë‹¤.</p>
          <blockquote class="about-quote">â€œFlexëŠ” ê³¼ì‹œê°€ ì•„ë‹ˆë¼, ë‹¹ì‹ ì˜ ì‚¶ì„ ì¦ëª…í•˜ëŠ” ê²ƒì´ë‹¤.â€</blockquote>
          <p>ìš°ë¦¬ëŠ” íˆ¬ëª…í•¨ì„ ì„ íƒí–ˆê³ , ê·¸ íˆ¬ëª…í•¨ì´ ì‹ ë¢°ë¥¼ ë§Œë“ ë‹¤ê³  ë¯¿ìŠµë‹ˆë‹¤.</p>
          <ul class="about-bullets">
            <li><b>íŒ€ ì‹ ì› KYC ì¸ì¦</b></li>
            <li><b>ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ Audit(ê°ì‚¬)</b></li>
            <li><b>ìœ ë™ì„± LP Lock + ì†Œìœ ê¶Œ í¬ê¸°</b></li>
            <li><b>Tokenomics Â· ì§€ê°‘ ë°°ë¶„ 100% ê³µê°œ</b></li>
          </ul>
          <p class="small-muted">ëª¨ë“  í•­ëª©ì€ ì˜¨ì²´ì¸ìœ¼ë¡œ ì¦ëª…ë©ë‹ˆë‹¤.</p>
        </div>
        <div class="about-card">
          <h3 style="margin:0 0 8px 0">English</h3>
          <p>FlexCoin isnâ€™t just a memecoin. In Korea, â€œFlexâ€ means proudly expressing your <b>capability, spending power, and confidence</b>. FlexCoin captures that <b>lifestyle</b>.</p>
          <blockquote class="about-quote">â€œFlexing isnâ€™t showing off â€” itâ€™s owning your story.â€</blockquote>
          <p>We choose transparency, because transparency creates trust.</p>
          <ul class="about-bullets">
            <li><b>Team KYC Verified</b></li>
            <li><b>Smart Contract Audit Completed</b></li>
            <li><b>LP Locked + Ownership Renounced</b></li>
            <li><b>100% Public Tokenomics & Wallet Allocation</b></li>
          </ul>
          <p class="small-muted">Everything is verifiable on-chain.</p>
        </div>
      </div>
    </section>

    <!-- Tokenomics -->
    <section class="card">
      <div class="section-title" data-i18n="section_tokenomics">Tokenomics</div>
      <div class="tok-wrap">
        <canvas id="donut" width="300" height="300" aria-label="Tokenomics donut"></canvas>
        <div>
          <ul class="legend" id="legend"></ul>
          <div id="caps" class="muted"></div>
          <div id="rates" class="muted"></div>

          <!-- DexSale í”„ë¦¬ì„¸ì¼ ë²„íŠ¼ 1ê°œ -->
          <div class="btn-row" style="justify-content:flex-start;margin-top:12px">
            <a id="btn-presale-dxsale" class="btn" aria-disabled="true">DexSale Presale</a>
          </div>

          <!-- ìƒì„¸ ì„¤ëª…: ë¹„ìœ¨ + ë½ì—… ì•ˆë‚´ (ì˜ë¬¸) -->
          <div id="tokenomics-note" class="tokenomics-note"></div>
        </div>
      </div>
    </section>

    <!-- Countdown -->
    <section class="card">
      <div class="section-title">Presale Countdown</div>
      <div class="countbox">
        <div id="countdown">â€”</div>
        <div id="countdown-range" class="muted">â€”</div>
      </div>
    </section>

    <!-- Action Preview -->
    <section class="card">
      <div class="section-title">Action Preview</div>
      <div class="grid" id="action-grid"></div>
    </section>

    <!-- NFT Preview -->
    <section class="card">
      <div class="section-title" data-i18n="nft.title">NFT Preview</div>
      <div class="grid" id="nft-grid"></div>
    </section>

    <!-- ì´ë¯¸ì§€ ë¼ì´íŠ¸ë°•ìŠ¤ (ì•¡ì…˜ + NFT ê³µìš©) -->
    <div id="img-lightbox" class="lightbox">
      <img id="img-lightbox-img" src="" alt="">
    </div>

    <!-- Whitepaper -->
    <section id="whitepaper" class="card">
      <div class="section-title">Whitepaper</div>
      <div class="wp-grid">
        <a class="btn" href="/public/whitepaper/en.pdf" download target="_blank" rel="noopener">English</a>
        <a class="btn" href="/public/whitepaper/ko.pdf" download target="_blank" rel="noopener">Korean</a>
        <a class="btn" href="/public/whitepaper/ja.pdf" download target="_blank" rel="noopener">Japanese</a>
        <a class="btn" href="/public/whitepaper/zh.pdf" download target="_blank" rel="noopener">Chinese</a>
        <a class="btn" href="/public/whitepaper/es.pdf" download target="_blank" rel="noopener">Spanish</a>
        <a class="btn" href="/public/whitepaper/de.pdf" download target="_blank" rel="noopener">German</a>
        <a class="btn" href="/public/whitepaper/pt.pdf" download target="_blank" rel="noopener">Portuguese</a>
        <a class="btn" href="/public/whitepaper/it.pdf" download target="_blank" rel="noopener">Italian</a>
      </div>
      <div class="muted wp-note">â€» ë‹¤ìš´ë¡œë“œê°€ ë§‰íˆë©´ ìƒˆ íƒ­ì—ì„œ ì—´ë¦¼ â†’ â€œë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ì¥â€.</div>
    </section>

    <!-- Addresses -->
    <section class="card addr">
      <div class="section-title">Addresses</div>
      <table id="addr-table"></table>
    </section>

    <!-- Roadmap (i18n) -->
    <section id="roadmap" class="card">
      <div class="section-title" data-i18n="roadmap.title">Roadmap</div>
      <div class="grid">
        <div class="roadmap-card card">
          <div class="muted" data-i18n="roadmap.phase1.title">Phase 1</div>
          <div style="font-weight:800;margin-top:.2rem" data-i18n="roadmap.phase1.desc">
            Successful Launch & Survive in the Memecoin Sector
          </div>
        </div>
        <div class="roadmap-card card">
          <div class="muted" data-i18n="roadmap.phase2.title">Phase 2</div>
          <div style="font-weight:800;margin-top:.2rem" data-i18n="roadmap.phase2.desc">
            Community Activation & Achieve 1,000 Holders
          </div>
        </div>
        <div class="roadmap-card card">
          <div class="muted" data-i18n="roadmap.phase3.title">Phase 3</div>
          <div style="font-weight:800;margin-top:.2rem" data-i18n="roadmap.phase3.desc">
            DEX & CEX Exchange Listings
          </div>
        </div>
        <div class="roadmap-card card">
          <div class="muted" data-i18n="roadmap.phase4.title">Phase 4</div>
          <div style="font-weight:800;margin-top:.2rem" data-i18n="roadmap.phase4.desc">
            Ecosystem Expansion (AI & NFT)
          </div>
        </div>
      </div>
    </section>

    <!-- NFT MINT -->
    <section id="nft" class="card">
      <div class="section-title" data-i18n="section_nft">FLEX NFT MINT</div>
       <div class="muted" style="margin-top:6px; font-weight:700; text-align:center; line-height:1.6;">
    1) CONNECT WALLET<br>
    â†“<br>
    2) CHOOSE MINT TYPE (LEGACY / FLEXNFT)<br>
    â†“<br>
    3) MINT
  </div>


      <div style="text-align:center;">
        <select id="net" class="select-net">
          <option value="bscMainnet">BNB Mainnet</option>
          <option value="bscTestnet">BNB Testnet</option>
        </select>
        <div class="btn-row">
          <button id="connect" class="btn-gold" data-i18n="connect">Connect Wallet</button>
          <button id="mint" class="btn-gold" disabled>Mint NFT (Legacy)</button>
          <!-- ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ” ìƒˆ ë¯¼íŠ¸ ë²„íŠ¼ -->
          <button id="btn-nft-mint" class="btn-gold">Mint FlexNFT (0.0001 BNB)</button>
        </div>

        <pre id="mint-log" class="mint-log">[ Waiting for connection... ]</pre>
      </div>

      <!-- Live Chart box -->
      <div id="chart-box">
        <div class="chart-head">
          <div><b>Live Price / Chart</b></div>
          <div class="muted" id="chart-hint">Dexscreener embed will show here if configured.</div>
        </div>
        <div class="chart-body" id="chart-body">
          <!-- runtimeì—ì„œ links.dexscreener_url ìˆìœ¼ë©´ iframe ì£¼ì… -->
        </div>
      </div>
    </section>

    <!-- Alerts -->
    <section id="alerts" class="card">
      <div class="section-title">Alerts</div>
      <div class="alert-wrap">
        <input id="alert-email" type="email" placeholder="Email address" autocomplete="email">
        <input id="alert-tg" type="text" placeholder="Telegram @handle (optional)" autocomplete="off">
      </div>
      <div class="btn-row">
        <button id="alert-submit" class="btn">Notify me</button>
      </div>
      <div id="alert-msg" class="alert-hint">Enter your email to get presale & listing alerts. (coming soon if backend not set)</div>
    </section>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
    <div class="lb-toolbar">
      <button class="btn" id="lb-zoom-in">+</button>
      <button class="btn" id="lb-zoom-out">âˆ’</button>
      <button class="btn" id="lb-reset">75%</button>
      <button class="btn" id="lb-close">Close</button>
    </div>
    <div class="lb-hint">Wheel/í•€ì¹˜ë¡œ í™•ëŒ€, ë“œë˜ê·¸ë¡œ ì´ë™, ESC ë‹«ê¸°</div>
    <div class="lb-stage" id="lb-stage">
      <img id="lb-img" class="lb-img" alt="preview">
    </div>
  </div>

  <script>
    const $ = (q)=>document.querySelector(q);

    /* ---------------- Whitepaper Direct Router ---------------- */
    (function directWhitepaperRouter(){
      const langCodes = ['en','ko','ja','zh','es','de','pt','it'];
      const lower = (s)=> (s || '').toLowerCase();
      function findBestPdf(code){
        const tryList = [`/public/whitepaper/${code}.pdf`];
        return Promise.all(
          tryList.map(p =>
            fetch(p, { method: 'HEAD', cache: 'no-cache' })
              .then(r => r.ok ? p : null)
              .catch(() => null)
          )
        ).then(arr => arr.find(Boolean));
      }

      async function handlePath(){
        const p = lower(location.pathname);
        const m = p.match(/^\/(whitepaper|wp|pdf)(?:\/)?([a-z]{2})?(?:\.pdf)?$/);
        if(!m) return false;
        const code = (m[2] && langCodes.includes(m[2])) ? m[2] : 'ko';
        const url = await findBestPdf(code);
        if(url){
          const a = document.createElement('a'); a.href = url; a.download = `flexcoin_whitepaper_${code}.pdf`;
          document.body.appendChild(a); a.click(); a.remove();
          window.open(url,'_blank','noopener'); return true;
        }
        return false;
      }

      async function handleHash(){
        const h = lower(location.hash || '');
        const m = h.match(/^#whitepaper[-_/]([a-z]{2})$/);
        if (!m) return false;

        const code = m[1];
        const url = await findBestPdf(code);
        if (!url) return false;

        const a = document.createElement('a');
        a.href = url;
        a.download = `flexcoin_whitepaper_${code}.pdf`;
        document.body.appendChild(a);
        a.click();
        a.remove();

        window.open(url, '_blank', 'noopener');
        return true;
      }

      handlePath();
      handleHash();
    })();

    /* --------- ìœ í‹¸ --------- */
    const deep = (obj, path) => path.split('.').reduce((o,k)=> (o && k in o) ? o[k] : undefined, obj);
    async function fetchFirst(paths){ for(const p of paths){ try{ const r=await fetch(p,{cache:'no-cache'}); if(r.ok) return r.json(); }catch(_){} } return {}; }
    function firstExistingImage(paths){
      return new Promise(resolve=>{
        let i=0; const next=()=>{
          if(i>=paths.length) return resolve(null);
          const img=new Image(); img.onload=()=>resolve(paths[i]); img.onerror=()=>{ i++; next(); }; img.src=paths[i];
        };
        next();
      });
    }
    async function firstExistingFile(paths){
      for(const p of paths){ try{ const r=await fetch(p,{method:'HEAD',cache:'no-cache'}); if(r.ok) return p; }catch(_){} }
      return null;
    }

    /* --------- ë§í¬/ì£¼ì†Œ + ì°¨íŠ¸ + ì•Œë¦¼ + Security Zone --------- */
    async function initLinks(){
      const links = await fetchFirst(['/public/config/links.json','/config/links.json']);

      // ğŸ”¹ KYC ê¸°ë³¸ ì´ë¯¸ì§€ ê²½ë¡œ: links.jsonì— ê°’ì´ ì—†ìœ¼ë©´ /public/security/kyc_flexcoin.jpg ì‚¬ìš©
      if (!links.kyc_url) {
        links.kyc_url = '/public/security/kyc_flexcoin.jpg';
      }

      const setBtn=(id,url)=>{const b=$(id); if(!b) return; if(url){b.href=url; b.removeAttribute('disabled');} else {b.removeAttribute('href'); b.setAttribute('disabled','');}};
      setBtn('#btn-x',links.x_url);
      setBtn('#btn-tg',links.tg_url);
      setBtn('#btn-pcs',links.pancakeswap_url);

      /* Security Shield Zone ê¸°ë³¸ ë²„íŠ¼ ì„¸íŒ… (links.json ê¸°ì¤€) */
      const setSec = (id,url)=>{
        const el = $(id);
        if(!el) return;
        if(url){
          el.href = url;
          el.removeAttribute('aria-disabled');
          el.target = '_blank';
          el.rel = 'noopener';
        }else{
          el.href = '#';
          el.setAttribute('aria-disabled','true');
        }
      };
      setSec('#btn-security-audit', links.audit_url || '');
      setSec('#btn-security-kyc', links.kyc_url || '');
      setSec('#btn-security-lplock', links.lp_lock_url || '');

      const addr = await fetchFirst(['/public/config/addresses.json','/config/addresses.json']);
      const toScan=(a)=>a?`https://bscscan.com/address/${a}`:'#';

      /* Burn í–‰ ì œê±° + Userë¥¼ Presale ë°”ë¡œ ì•„ë˜ë¡œ */
      const rows=[
        ['Token',addr.token],
        ['Team/Lock',addr.team_lock||addr.team],
        ['Marketing',addr.marketing],
        ['Presale',addr.presale],
        ['User',addr.user]
      ];
      $('#addr-table').innerHTML = rows
        .map(([k,v])=>`<tr><td>${k}</td><td><a href="${toScan(v)}" target="_blank" rel="noopener">${v||''}</a></td></tr>`)
        .join('');

      /* Security Shield Zone â€“ BscScan ë²„íŠ¼ (token ì£¼ì†Œ ê¸°ì¤€ fallback) */
      const bscBtn = $('#btn-security-bscscan');
      if(bscBtn){
        const tokenScan = addr.token ? `https://bscscan.com/token/${addr.token}` : '';
        const url = links.bscscan_url || links.dexscreener_url || tokenScan;
        if(url){
          bscBtn.href = url;
          bscBtn.removeAttribute('aria-disabled');
          bscBtn.target='_blank';
          bscBtn.rel='noopener';
        }else{
          bscBtn.href='#';
          bscBtn.setAttribute('aria-disabled','true');
        }
      }

      /* ì°¨íŠ¸ ì„ë² ë“œ */
      const chartBody = $('#chart-body');
      const hint = $('#chart-hint');
      let dexUrl = links.dexscreener_url || '';
      if(!dexUrl){
        const cmc = `https://dex.coinmarketcap.com/ko/token/bsc/${addr.token||''}/`;
        chartBody.innerHTML = `<div style="padding:18px;text-align:center">
          <div class="muted" style="margin-bottom:10px">Dexscreener URL is not configured yet.</div>
          <a class="btn" href="${cmc}" target="_blank" rel="noopener">Open CMC DEX Chart</a>
        </div>`;
        hint.textContent = 'CMC cannot be embedded in an iframe, it will open in a new tab.';
      }else{
        chartBody.innerHTML = `<iframe src="${dexUrl}${dexUrl.includes('?')?'&':'?'}embed=1&theme=dark" loading="lazy"></iframe>`;
        hint.textContent = 'Powered by Dexscreener';
      }

      /* Alerts í¼ ì œì¶œ */
      const formEndpoint = links.form_endpoint || '';
      const btn = $('#alert-submit');
      btn.onclick = async ()=>{
        const email = $('#alert-email').value.trim();
        const tg = $('#alert-tg').value.trim();
        const msg = $('#alert-msg');
        if(!email){ msg.textContent = 'Please enter your email.'; return; }
        if(!formEndpoint){ msg.textContent = 'Alerts backend not set (coming soon).'; return; }
        try{
          const r = await fetch(formEndpoint,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,tg,ts:new Date().toISOString(),source:'flexcoin'})});
          if(r.ok){ msg.textContent='Subscribed! We will notify you.'; $('#alert-email').value=''; $('#alert-tg').value=''; }
          else{ msg.textContent='Submit failed. Please try again later.'; }
        }catch(e){ msg.textContent='Network error. Please try again.'; }
      };
    }

    /* --------- íˆì–´ë¡œ ì´ë¯¸ì§€ --------- */
    async function initHero(){
      const src = await firstExistingImage(['/public/hero/main.jpg','/hero/main.jpg','/public/hero/1.jpg','/hero/1.jpg']);
      if(src){ const img=$('#hero-img'); img.src=src; }
    }

    /* --------- í† í¬ë…¸ë¯¹ìŠ¤ --------- */
    async function initTokenomics(){
      const j = await fetchFirst(['/public/config/allocations.json','/config/allocations.json']);


      // ê¸°ë³¸ê°’(ë°±ì—…): LP54 / Presale20 / Team15 / Marketing10 / Burn1
      const t = j.tokenomics || {lp:54,presale:20,team:15,marketing:10,burn:1};

      const canvas = $('#donut');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');

      const vals=[t.lp,t.presale,t.team,t.marketing,t.burn];
      const names=['LP','Presale','Team','Marketing','Burn'];
      const cols=['#ffd85a','#ff944d','#53d878','#4da1ff','#ff6b6b'];

      const w = canvas.width;
      const h = canvas.height;
      const size = Math.min(w,h);
      const cx = w/2;
      const cy = h/2;
      const outerR = size*0.46;
      const innerR = size*0.27;

      ctx.clearRect(0,0,w,h);

      // í•©ê³„ ê¸°ì¤€ìœ¼ë¡œ 2Ï€ë¥¼ ë‚˜ëˆ ì„œ í•­ìƒ ì™„ì „í•œ ì›ì´ ë˜ë„ë¡
      const total = vals.reduce((acc,v)=>acc + (v||0), 0) || 1;
      let start = -Math.PI/2;

      vals.forEach((v,i)=>{
        const value = v || 0;
        if(value <= 0) return;                // 0% (ì˜ˆ: Burn 0)ì€ ì‹¤ì œ ë„ë„›ì—ì„œëŠ” ê·¸ë¦¬ì§€ ì•ŠìŒ
        const ratio = value / total;
        const end = start + 2*Math.PI*ratio;

        ctx.beginPath();
        ctx.moveTo(cx,cy);
        ctx.arc(cx,cy,outerR,start,end);
        ctx.closePath();
        ctx.fillStyle = cols[i];
        ctx.fill();

        start = end;
      });

      // ê°€ìš´ë° êµ¬ë©
      ctx.globalCompositeOperation = 'destination-out';
      ctx.beginPath();
      ctx.arc(cx,cy,innerR,0,2*Math.PI);
      ctx.fill();
      ctx.globalCompositeOperation = 'source-over';

      // ë²”ë¡€
      $('#legend').innerHTML = names.map((n,i)=>`
        <li><span class="legend-dot" style="background:${cols[i]}"></span>${n} ${vals[i]}%</li>
      `).join('');

      // Soft / Hard cap & Rate
      const p = j.presale || {};
      const soft = p.softcap_bnb ?? j.softcap ?? 'â€”';
      const hard = p.hardcap_bnb ?? j.hardcap ?? 'â€”';
      $('#caps').textContent=`Softcap: ${soft} BNB / Hardcap: ${hard} BNB`;

      const pres = Number(p.rate_flex_per_bnb ?? (j.rates?.presale||0));
      const list = Number(p.listing_rate_flex_per_bnb ?? (j.rates?.listing||0));
      const fmtN=(n)=> (Number.isFinite(n)&&n>0)? n.toLocaleString():'â€”';
      $('#rates').textContent=`Presale Rate: 1 BNB = ${fmtN(pres)} FLEX  â€¢  Listing Rate: 1 BNB = ${fmtN(list)} FLEX`;

      // ìƒì„¸ ì„¤ëª… (ì˜ë¬¸)
      const note = $('#tokenomics-note');
      if(note){
        const lockDays = p.lp_lock_days ?? j.lp_lock_days ?? 365;
        note.innerHTML = `
          â€¢ LP <b>${t.lp}%</b> â€” DEX liquidity, locked for at least <b>${lockDays} days</b>.<br>
          â€¢ Presale <b>${t.presale}%</b> â€” Launchpad allocations (DexSale).<br>
          â€¢ Team <b>${t.team}%</b> â€” Long-term team & builder allocation (vesting schedule to be announced).<br>
          â€¢ Marketing <b>${t.marketing}%</b> â€” Marketing, partnerships, listings and ecosystem growth only.
        `;
      }

      // DexSale í”„ë¦¬ì„¸ì¼ ë²„íŠ¼ 1ê°œ
      const links = await fetchFirst(['/public/config/links.json','/config/links.json']);
      const btn = $('#btn-presale-dxsale');

      const dxUrl =
        links.dexsale_url ||
        links["DexSale Presale_url"] ||
        links.presale_url ||
        '';

      if(btn){
        if(dxUrl){
          btn.textContent = 'DexSale Presale';
          btn.href = dxUrl;
          btn.removeAttribute('aria-disabled');
          btn.target = '_blank';
          btn.rel = 'noopener';
        }else{
          btn.textContent = 'DexSale Presale (coming soon)';
          btn.removeAttribute('href');
          btn.setAttribute('aria-disabled','true');
        }
      }
    }

    /* --------- ì¹´ìš´íŠ¸ë‹¤ìš´ --------- */
    async function initCountdown(){
      let sISO='2025-12-18T21:00:00+09:00', eISO='2026-01-01T21:00:00+09:00';
      const p = await fetchFirst(['/public/config/presale.json','/config/presale.json']);
      if(p.presale_start||p.start){ const x=(p.presale_start||p.start); sISO=x+(String(x).includes('+')?'':'+09:00'); }
      if(p.presale_end||p.end){ const y=(p.presale_end||p.end); eISO=y+(String(y).includes('+')?'':'+09:00'); }
      const s=new Date(sISO), e=new Date(eISO);
      const range=$('#countdown-range'),count=$('#countdown');
      const z=(n)=>String(n).padStart(2,'0');
      const fmt=(d)=>`${d.getFullYear()}. ${z(d.getMonth()+1)}. ${z(d.getDate())}. ${z(d.getHours())}:${z(d.getMinutes())}:${z(d.getSeconds())}`;
      range.textContent=`${fmt(s)} â†’ ${fmt(e)}`;
      const tick=()=>{ const now=new Date(); let t=s-now; if(t<0) t=e-now; if(t<=0){ count.textContent='â€”'; return; }
        const d=Math.floor(t/86400000); t%=86400000; const h=Math.floor(t/3600000); t%=3600000; const m=Math.floor(t/60000); t%=60000; const s2=Math.floor(t/1000);
        count.textContent=`${d}d ${z(h)}:${z(m)}:${z(s2)}`; };
      tick(); setInterval(tick,1000);
    }

    /* --------- ê°¤ëŸ¬ë¦¬ --------- */
    async function loadGrid(prefix, targetId){
      const list=Array.from({length:8},(_,i)=>i+1);
      const decided=await Promise.all(list.map(n=> firstExistingImage([`/public${prefix}/${n}.jpg`, `${prefix}/${n}.jpg`])));
      const ok=decided.filter(Boolean);
      const el=$(targetId);
      el.innerHTML = ok.length
        ? ok.map(src=>`<img src="${src}" alt="FlexCoin gallery image">`).join('')
        : '<div class="muted">Images coming soon.</div>';
      el.querySelectorAll('img').forEach(img=>{ img.style.cursor='zoom-in'; img.addEventListener('click',()=>openLightbox(img.src)); });
    }

    /* --------- ë¼ì´íŠ¸ë°•ìŠ¤ --------- */
    const lb=$('#lightbox'), lbImg=$('#lb-img'), lbStage=$('#lb-stage');
    let scale=0.75, minS=0.5, maxS=6, pos={x:0,y:0}, dragging=false, startPos={x:0,y:0};
    function applyLB(){ lbImg.style.transform=`translate(${pos.x}px,${pos.y}px) scale(${scale})`; }
    function openLightbox(src){ lbImg.src=src; scale=0.75; pos={x:0,y:0}; applyLB(); lb.classList.add('show'); document.body.classList.add('noscroll'); }
    function closeLightbox(){ lb.classList.remove('show'); document.body.classList.remove('noscroll'); }
    $('#lb-close').onclick=closeLightbox; $('#lb-reset').onclick=()=>{scale=0.75;pos={x:0,y:0};applyLB();};
    $('#lb-zoom-in').onclick=()=>{ scale=Math.min(maxS,scale*1.2); applyLB(); };
    $('#lb-zoom-out').onclick=()=>{ scale=Math.max(minS,scale/1.2); applyLB(); };
    lbStage.addEventListener('wheel',(e)=>{ e.preventDefault(); const k=e.deltaY>0?1.2:1/1.2; scale=Math.min(maxS,Math.max(minS,scale*k)); applyLB(); },{passive:false});
    lbStage.addEventListener('mousedown',(e)=>{ dragging=true; lbStage.style.cursor='grabbing'; startPos={x:e.clientX-pos.x,y:e.clientY-pos.y}; });
    window.addEventListener('mousemove',(e)=>{ if(!dragging) return; pos={x:e.clientX-startPos.x,y:e.clientY-startPos.y}; applyLB(); });
    window.addEventListener('mouseup',()=>{ dragging=false; lbStage.style.cursor='grab'; });
    lb.addEventListener('click',(e)=>{ if(e.target===lb) closeLightbox(); });

    /* --------- i18n --------- */
    async function setLang(lang){
      const dict=await fetchFirst([`/public/i18n/${lang}.json`,`/i18n/${lang}.json`]);
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const k=el.getAttribute('data-i18n');
        const v = deep(dict, k);
        if(v !== undefined){ el.textContent=v; }
      });
      localStorage.setItem('lang',lang);
      document.querySelectorAll('#lang-pill [data-lang]').forEach(b=>b.classList.toggle('active', b.getAttribute('data-lang')===lang));
      $('#brand').textContent='$FLEX is your life. Your life is FLEX.';
    }
    function bindLang(){
      const wanted=new URL(location.href).searchParams.get('lang')||localStorage.getItem('lang')||'en';
      setLang(wanted);
      document.querySelectorAll('#lang-pill [data-lang]').forEach(btn=> btn.addEventListener('click',()=> setLang(btn.getAttribute('data-lang')||'en')));
    }

     /* --------- NFT Mint + ë©”íƒ€ë§ˆìŠ¤í¬ ì—°ê²° --------- */
    const CHAINS = {
      bscTestnet: {
        chainId: "0x61",
        name: "BSC Testnet",
        rpc: "https://data-seed-prebsc-1-s3.binance.org:8545",
      },
      bscMainnet: {
        chainId: "0x38",
        name: "BSC",
        rpc: "https://bsc-dataseed.binance.org",
      },
    };

    const DEFAULT_PRICE_BNB = window.NFT_PRICE_BNB || "0.0001";

    // thirdweb Drop ì»¨íŠ¸ë™íŠ¸ì—ì„œ "ë„¤ì´í‹°ë¸Œ í† í°(BNB)"ì„ ì˜ë¯¸í•˜ëŠ” íŠ¹ìˆ˜ ì£¼ì†Œ
    // (ëŒ€ì‹œë³´ë“œ ì½”ë“œ ìŠ¤ë‹ˆí«ì—ì„œë„ ì´ ê°’ì„ ì‚¬ìš©í•¨)
    const NATIVE_TOKEN =
      "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE";

    // FlexNFT Drop ì „ìš© ABI (claim í•¨ìˆ˜ë§Œ ìµœì†Œ êµ¬ì„±ì´ë©´ ë¨)
    const DROP_ABI = [
      "function claim(address receiver,uint256 quantity,address currency,uint256 pricePerToken,(bytes32[] proof,uint256 quantityLimitPerWallet,uint256 pricePerToken,address currency) allowlistProof,bytes data) payable",
    ];

    // ë„¤íŠ¸ì›Œí¬ë³„ NFT ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ (addresses.jsonì—ì„œ ë®ì–´ì”€)
    let NFT_ADDR = {
      bscMainnet: "0xYourMainnetNFTAddress",
      bscTestnet: "0xYourTestnetNFTAddress",
    };

    let signer = null;

    function setMintButtons(enabled) {
      const legacy = document.querySelector("#mint");
      const flex = document.querySelector("#btn-nft-mint");
      [legacy, flex].forEach((b) => {
        if (!b) return;
        if (enabled) {
          b.removeAttribute("disabled");
        } else {
          b.setAttribute("disabled", "");
        }
      });
    }

    function short(addr) {
      return addr ? addr.slice(0, 6) + "â€¦" + addr.slice(-4) : "";
    }

    async function ensureChain(chainKey) {
      const { ethereum } = window;
      if (!ethereum) throw new Error("MetaMask not installed.");
      const target = CHAINS[chainKey];
      try {
        await ethereum.request({
          method: "wallet_switchEthereumChain",
          params: [{ chainId: target.chainId }],
        });
      } catch (e) {
        if (e && e.code === 4902) {
          await ethereum.request({
            method: "wallet_addEthereumChain",
            params: [
              {
                chainId: target.chainId,
                chainName: target.name,
                rpcUrls: [target.rpc],
                nativeCurrency: { name: "BNB", symbol: "BNB", decimals: 18 },
              },
            ],
          });
        } else {
          throw e;
        }
      }
    }

    async function connectWallet() {
      const netSel = document.querySelector("#net").value;
      await ensureChain(netSel);
      const provider = new ethers.BrowserProvider(window.ethereum);
      signer = await provider.getSigner();
      const addr = await signer.getAddress();
      document.querySelector("#connect").textContent =
        "Connected: " + short(addr);
      document.querySelector("#mint-log").textContent =
        "Connected: " + addr;
      setMintButtons(true);
      return signer;
    }

    function bindWalletEvents() {
      if (!window.ethereum) return;

      window.ethereum.on("accountsChanged", async (accs) => {
        const logEl = document.querySelector("#mint-log");
        if (!accs || accs.length === 0) {
          document.querySelector("#connect").textContent =
            "Connect Wallet";
          setMintButtons(false);
          if (logEl)
            logEl.textContent = "[ Waiting for connection... ]";
          signer = null;
          return;
        }
        const addr = accs[0];
        document.querySelector("#connect").textContent =
          "Connected: " + short(addr);
        if (logEl) logEl.textContent = "Account: " + addr;
      });

      window.ethereum.on("chainChanged", async (hex) => {
        const v =
          hex === "0x38" ? "bscMainnet" :
          hex === "0x61" ? "bscTestnet" :
          null;
        if (v) {
          document.querySelector("#net").value = v;
        }
      });

      window.ethereum.on("disconnect", () => {
        const logEl = document.querySelector("#mint-log");
        document.querySelector("#connect").textContent =
          "Connect Wallet";
        setMintButtons(false);
        if (logEl)
          logEl.textContent = "[ Waiting for connection... ]";
        signer = null;
      });
    }

    async function setupMintUI() {
      // addresses.json ì—ì„œ NFT ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
      const addrConfig = await fetchFirst([
        "/public/config/addresses.json",
        "/config/addresses.json",
      ]);
      if (addrConfig.nft_mainnet)
        NFT_ADDR.bscMainnet = addrConfig.nft_mainnet;
      if (addrConfig.nft_testnet)
        NFT_ADDR.bscTestnet = addrConfig.nft_testnet;

      setMintButtons(false);
      bindWalletEvents();

      const btnConnect = document.querySelector("#connect");
      const btnLegacy = document.querySelector("#mint");
      const btnFlex = document.querySelector("#btn-nft-mint");
      const logEl = document.querySelector("#mint-log");

      btnConnect.onclick = async () => {
        try {
          await connectWallet();
        } catch (e) {
          logEl.textContent =
            "Connect error: " +
            (e && e.message ? e.message : String(e));
        }
      };

      async function runMint() {
        try {
          if (!signer) await connectWallet();

          const chainKey = document.querySelector("#net").value;
          const to = await signer.getAddress();
          const target = NFT_ADDR[chainKey];

          if (!target || target.length < 20) {
            throw new Error("NFT contract address is not configured.");
          }

          // thirdweb ëŒ€ì‹œë³´ë“œì—ì„œ ì„¤ì •í•œ ê°€ê²©ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©
          const pricePerToken = ethers.parseEther(DEFAULT_PRICE_BNB);

          const contract = new ethers.Contract(
            target,
            DROP_ABI,
            signer
          );

          // Allowlist ê¸°ëŠ¥ì„ ì“°ì§€ ì•Šìœ¼ë¯€ë¡œ ë¹ˆ proof + 1ê°œ ì œí•œ
          const allowlistProof = {
            proof: [],
            quantityLimitPerWallet: 1n,
            pricePerToken,
            currency: NATIVE_TOKEN,
          };

          logEl.textContent =
            "Minting... please confirm in MetaMask.";

          const tx = await contract.claim(
            to,               // receiver
            1n,               // quantity
            NATIVE_TOKEN,     // currency (BNB)
            pricePerToken,    // price per token
            allowlistProof,   // allowlist proof struct
            "0x",             // data
            { value: pricePerToken }  // msg.value
          );

          logEl.textContent = "Minting... TX: " + tx.hash;
          await tx.wait();
          logEl.textContent = "âœ… Minted successfully!";
        } catch (e) {
          // thirdweb ì»¤ìŠ¤í…€ ì—ëŸ¬ ë•Œë¬¸ì— message / reason ë‘˜ ë‹¤ í™•ì¸
          const msg =
            (e && e.reason) ||
            (e && e.message) ||
            String(e);
          console.error("Mint error:", e);
          logEl.textContent = "Mint error: " + msg;
        }
      }

      // ë‘ ë²„íŠ¼ ëª¨ë‘ ê°™ì€ ë¯¼íŠ¸ ë¡œì§ ì‚¬ìš© (í•˜ë‚˜ëŠ” ë ˆê±°ì‹œ ì´ë¦„)
      btnLegacy.onclick = runMint;
      btnFlex.onclick = runMint;
    }

    /* --------- Boot --------- */
    (async () => {
      bindLang();
      await initLinks();
      await initHero();
      await initTokenomics();
      await initCountdown();
      await loadGrid("/action", "#action-grid");
      await loadGrid("/nft-preview", "#nft-grid");
      await setupMintUI();
    })();

    // -------- ì•¡ì…˜ / NFT ì´ë¯¸ì§€ ë¼ì´íŠ¸ë°•ìŠ¤ --------
    function initImageLightbox() {
      const overlay = document.getElementById("img-lightbox");
      const overlayImg = document.getElementById("img-lightbox-img");
      if (!overlay || !overlayImg) return;

      function openLightbox2(src, alt) {
        overlayImg.src = src;
        overlayImg.alt = alt || "";
        overlay.classList.add("open");
      }

      function closeLightbox2() {
        overlay.classList.remove("open");
        overlayImg.src = "";
      }

      overlay.addEventListener("click", () => {
        closeLightbox2();
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          closeLightbox2();
        }
      });

      const selectors = [
        "#action-grid a",
        "#action-grid img",
        "#nft-grid a",
        "#nft-grid img",
      ];
      selectors.forEach((sel) => {
        document.querySelectorAll(sel).forEach((el) => {
          el.style.cursor = "zoom-in";
          el.addEventListener("click", (e) => {
            e.preventDefault();
            const img = el.tagName === "IMG" ? el : el.querySelector("img");
            const src = (el.tagName === "A" && el.href) || (img && img.src);
            if (!src) return;
            const alt = img ? img.alt : "";
            openLightbox2(src, alt);
          });
        });
      });
    }

    window.addEventListener("load", initImageLightbox);

  </script>
</body>
</html>
